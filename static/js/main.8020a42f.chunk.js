(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,r){t.exports=r(18)},16:function(t,e,r){},17:function(t,e,r){},18:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),i=r(5),o=r.n(i),c=(r(16),r(17),r(2)),s=r(3),h=r(8),u=r(6),l=r(9),f=r(1),d=r(7),v=r.n(d),p=function(){function t(e){Object(c.a)(this,t),this.rad=.017,this.gap=.03,this.inner=.6,this.outer=1,this.iterations=100,this.count=0,this.data=v()(e),this.categories=this.createCategories(this.gap,this.data),this.placement(this.data,this.categories)}return Object(s.a)(t,[{key:"createCategories",value:function(t,e){var r=e.reduce(function(t,e){var r=String(e.category);return r in t?t[r].count+=1:t[r]={count:1},t},{}),a=Object.entries(r).reduce(function(t,e){return t+e[1].count},0),n=0;for(var i in r){var o=r[i].count/a;r[i].t0=n,r[i].t1=n+2*Math.PI*(o-t),n+=2*Math.PI*o}return r}},{key:"place",value:function(t,e){var r=this.inner,a=this.outer-this.rad,n=f.b(0,1)(),i=Math.sqrt(n*(a*a-r*r)+r*r),o=this.rad/i,c=f.b(t+o,e-o)();return{x:1+i*Math.cos(c),y:1+i*Math.sin(c)}}},{key:"placement",value:function(t,e){for(var r=t.length,a=0,n=1.5*this.rad,i=0;i<t.length;i++){for(var o=String(t[i].category),c=e[o].t0,s=e[o].t1,h=0,u=this.place(c,s);h<n&&a<r;){h=2*n;for(var l=0;l<i;l++){var f=u.x-t[l].x,d=u.y-t[l].y,v=Math.sqrt(f*f+d*d);h=Math.min(h,v)}h<n&&(u=this.place(c,s),a+=1)}t[i].x=u.x,t[i].y=u.y}}},{key:"force",value:function(){for(var t=this.data,e=this.categories,r=[],a=[],n=3*this.rad,i=this.inner,o=this.outer-this.rad,c=0;c<t.length;c++)r[c]=0,a[c]=0;for(var s=0;s<t.length;s++)for(var h=s+1;h<t.length;h++){var u=t[s].x-t[h].x,l=t[s].y-t[h].y,f=Math.sqrt(u*u+l*l);if(f<n){var d=.01*(1-f/n),v=d*u/f,p=d*l/f;r[s]+=v,a[s]+=p,r[h]-=v,a[h]-=p}}for(var g=0;g<t.length;g++){var y=t[g].x+r[g],w=t[g].y+a[g],x=y-1,b=w-1,m=Math.atan2(b,x);m<0&&(m+=2*Math.PI);var M=t[g].category,k=e[M].t0,j=e[M].t1,O=Math.sqrt(x*x+b*b),A=this.rad/O;O<o&&O>i&&m>k+A&&m<j-A&&(t[g].x=y,t[g].y=w)}}},{key:"draw",value:function(t){var e=t.width,r=t.showLabels,a=void 0===r||r;if(!(this.count>=this.iterations)){this.count++;var n=.5*e,i=n,o=n,c=this.rad*n,s=this.inner*n;if(f.c("#plot2").attr("width",e).attr("height",e),f.c("#plot2").selectAll("circle").data(this.data).enter().append("circle").attr("cx",function(t){return t.x*n}).attr("cy",function(t){return t.y*n}).attr("r",c).attr("class",function(t){return"hue-"+String(t.hue)}),f.c("#plot2").selectAll("circle").data(this.data).transition().attr("cx",function(t){return t.x*n}).attr("cy",function(t){return t.y*n}),a){var h=f.a().innerRadius(.3*s).outerRadius(s).startAngle(function(t){return t[1].t0+.5*Math.PI}).endAngle(function(t){return t[1].t1+.5*Math.PI}),u=Object.entries(this.categories);f.c("#plot2").selectAll("text.labels").data(u).enter().append("text").each(function(t){var e=h.centroid(t);f.c(this).attr("x",e[0]+i).attr("y",e[1]+o).attr("dy","0.33em").text(t[0])})}}}}]),t}(),g=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){for(var t=this,e=[],r=0;r<200;r++)e.push({category:"A",hue:0});for(var a=0;a<600;a++)e.push({category:"A",hue:1});for(var n=0;n<300;n++)e.push({category:"B",hue:0});for(var i=0;i<10;i++)e.push({category:"B",hue:1});this.plot=new p(e),this.plot.draw({width:600,showLabels:!0}),this.interval=setInterval(function(){t.plot.force(),t.plot.draw({width:600,showLabels:!1})},50)}},{key:"render",value:function(){return n.a.createElement("svg",{id:"plot2"})}}]),e}(n.a.Component);var y=function(){for(var t=[],e=0;e<200;e++)t.push({category:0,hue:0});for(var r=0;r<600;r++)t.push({category:0,hue:1});for(var a=0;a<300;a++)t.push({category:1,hue:0});for(var i=0;i<10;i++)t.push({category:1,hue:1});return n.a.createElement("div",{className:"App"},n.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.8020a42f.chunk.js.map